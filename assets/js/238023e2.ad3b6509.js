"use strict";(self.webpackChunkfhircore=self.webpackChunkfhircore||[]).push([[4629],{9878:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var t=i(5893),s=i(1151);const r={},o="P2P Sync",c={id:"engineering/app/configuring/p2p_sync",title:"P2P Sync",description:'OpenSRP supports device-to-device syncing through an additional library. To add the P2P library use `p2p-lib = "XXX-SNAPSHOT` in your libs.version.toml file. After this sync your application to update the added library.',source:"@site/docs/engineering/app/configuring/p2p_sync.mdx",sourceDirName:"engineering/app/configuring",slug:"/engineering/app/configuring/p2p_sync",permalink:"/engineering/app/configuring/p2p_sync",draft:!1,unlisted:!1,editUrl:"https://github.com/opensrp/fhircore/tree/main/docs/engineering/app/configuring/p2p_sync.mdx",tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Internationalization",permalink:"/engineering/app/configuring/internationalization"},next:{title:"Specific use cases",permalink:"/engineering/app/configuring/specific-use-cases"}},a={},d=[{value:"Enabling P2P sync configuration",id:"enabling-p2p-sync-configuration",level:2},{value:"Navigation configurations",id:"navigation-configurations",level:3},{value:"Config properties of P2P sync",id:"config-properties-of-p2p-sync",level:3},{value:"Resources to sync",id:"resources-to-sync",level:4}];function l(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"p2p-sync",children:"P2P Sync"}),"\n",(0,t.jsxs)(e.p,{children:["OpenSRP supports device-to-device syncing through an additional library. To add the P2P library use ",(0,t.jsx)(e.code,{children:'p2p-lib = "XXX-SNAPSHOT'})," in your ",(0,t.jsx)(e.code,{children:"libs.version.toml"})," file. After this sync your application to update the added library."]}),"\n",(0,t.jsx)(e.h2,{id:"enabling-p2p-sync-configuration",children:"Enabling P2P sync configuration"}),"\n",(0,t.jsx)(e.p,{children:"To enable P2P sync we need to make changes to enable viewing P2P UI elements and configure what to sync over P2P."}),"\n",(0,t.jsx)(e.h3,{id:"navigation-configurations",children:"Navigation configurations"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n    "id": "p2p_sync",\n    "visible": true,\n    "display": "Transfer Data",\n    "menuIconConfig": {\n        "type": "local",\n        "reference": "ic_p2p"\n    },\n    "actions": [\n        {\n            "trigger": "ON_CLICK",\n            "workflow": "DEVICE_TO_DEVICE_SYNC",\n            "id": "navigateToP2PScreen"\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"config-properties-of-p2p-sync",children:"Config properties of P2P sync"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Property"}),(0,t.jsx)(e.th,{children:"Description"}),(0,t.jsx)(e.th,{style:{textAlign:"center"},children:"Required"}),(0,t.jsx)(e.th,{style:{textAlign:"center"},children:"Default"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"id"}),(0,t.jsx)(e.td,{children:"uniquieId of your p2p_sync block"}),(0,t.jsx)(e.td,{style:{textAlign:"center"},children:"yes"}),(0,t.jsx)(e.td,{style:{textAlign:"center"}})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"visible"}),(0,t.jsx)(e.td,{children:"Boolean to show whether this is to be shown"}),(0,t.jsx)(e.td,{style:{textAlign:"center"},children:"yes"}),(0,t.jsx)(e.td,{style:{textAlign:"center"},children:(0,t.jsx)(e.code,{children:"apps"})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"display"}),(0,t.jsx)(e.td,{children:"Title text that should be shown on the device"}),(0,t.jsx)(e.td,{style:{textAlign:"center"},children:"yes"}),(0,t.jsx)(e.td,{style:{textAlign:"center"}})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"menuIconConfig"}),(0,t.jsxs)(e.td,{children:["The icon to show. This can be configured through ICON configuration. ",(0,t.jsx)(e.a,{href:"https://docs.opensrp.io/engineering/android-app/configuring/config-types/widget#how-to-use-button-with-icon-and-copy-ability",children:"See here"})]}),(0,t.jsx)(e.td,{style:{textAlign:"center"},children:"No"}),(0,t.jsx)(e.td,{style:{textAlign:"center"}})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"actions"}),(0,t.jsx)(e.td,{children:"Action to be performed when once clicks on the display above. See actions parameters under questionnaire"}),(0,t.jsx)(e.td,{style:{textAlign:"center"},children:"yes"}),(0,t.jsx)(e.td,{style:{textAlign:"center"}})]})]})]}),"\n",(0,t.jsx)(e.admonition,{type:"info",children:(0,t.jsx)(e.p,{children:"DEVICE_TO_DEVICE_SYNC application workflow can be triggered via configurable actions as indicated in the sample navigation configuration above."})}),"\n",(0,t.jsx)(e.h4,{id:"resources-to-sync",children:"Resources to sync"}),"\n",(0,t.jsxs)(e.p,{children:["You also need to define which resources to be synced. This configuration should be added as part of ",(0,t.jsx)(e.a,{href:"https://docs.opensrp.io/engineering/android-app/configuring/config-types/application",children:"Application configuration"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'"deviceToDeviceSync": {\n    "resourcesToSync": [\n        "Group",\n        "Patient",\n        "CarePlan",\n        "Task",\n        "Encounter",\n        "Observation",\n        "Condition",\n        "Questionnaire",\n        "QuestionnaireResponse",\n        "RelatedPerson",\n        "Flag",\n        "Immunization"\n    ]\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["This can be simplified by a sample workflow show on the image below.\n",(0,t.jsx)(e.img,{alt:"P2P_SYNC",src:i(8676).Z+"",width:"1280",height:"569"})]})]})}function p(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}},8676:(n,e,i)=>{i.d(e,{Z:()=>t});const t=i.p+"assets/images/p2p-7115a3f55d1404b0bb3d3f05dda733a7.png"},1151:(n,e,i)=>{i.d(e,{Z:()=>c,a:()=>o});var t=i(7294);const s={},r=t.createContext(s);function o(n){const e=t.useContext(r);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);